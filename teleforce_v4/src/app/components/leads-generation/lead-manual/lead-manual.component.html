<div mat-dialog-head class="dilog-head d-flex justify-content-between">
    <h5 class="dialog-head-h">Automation</h5>
    <div class="d-inline-block">
        <a class="close" (click)="onNoClick()"><i class="fi-rr-cross-small"></i></a>
    </div>
</div>
<form [formGroup]="AdGroupForm"> 
    <div mat-dialog-content>
        <div class="row">
            <div class="row" *ngIf="auto">
                <div class="col-12 col-lg-12 m-auto">
                    <div class="my p-3" data-animation="scaleIn" style="background-color: #fff;">
                        <p  class="field-head mt-2">Step 1 : Copy Webhook Url</p>
                        <div class="flex-row-reverse">
                            <button mat-flat-button color="accent" (click)="copyText()"><span class="btn-icon"><i class="far fa-copy"></i>&nbsp;</span>webhook URL</button>&nbsp;
                            <span>{{webhookurl_show}}</span>
                        </div>
                    </div>
                </div>
                <div class="col-12 col-lg-12 m-auto">
                    <div class="my p-3" data-animation="scaleIn" style="background-color: #fff;">
                        <p  class="field-head mt-2">Step 2 : Copy Webhook key</p>
                        <div class="flex-row-reverse">
                            <button mat-flat-button color="accent" (click)="copyText_key()"><span class="btn-icon"><i class="far fa-copy"></i>&nbsp;</span>Key</button>&nbsp;
                            <span *ngIf="ads_idError"
                            class="error">Are You Missing Step 2 ??
                            </span>
                            <span>{{key}}</span>
                        </div>
                        
                    </div>
                </div>
                <div class="col-12 col-lg-12 m-auto">
                    <div class="my p-3" data-animation="scaleIn" style="background-color: #fff;">
                        <p  class="field-head mt-2">Step 3 : Campaign Automation</p>
                    </div>
                </div>
            </div>
            <!--
                <div class="col-sm-12">
                    <section class="example-section">
                        <mat-checkbox class="example-margin" (change)='voiceSelect($event)' [checked]="voiceCampaignDisplay">Voice</mat-checkbox>
                        <mat-checkbox class="example-margin ml-2" (change)='mailSelect($event)' [checked]="mailCampaignDisplay">E-Mail</mat-checkbox>
                        <mat-checkbox class="example-margin ml-2" (change)='smsSelect($event)' [checked]="smsCampaignDisplay">SMS</mat-checkbox>
                    </section>
                </div>
             -->
            <div class="col-sm-6">
                <mat-form-field appearance="outline" >
                    <mat-label>Select Segment</mat-label>
                    <mat-select formControlName="segment" (selectionChange)="changeAutomationCampaign('segment',$event)" required>
                        <mat-option *ngFor="let segment of segments" [value]='segment.cont_id'>{{segment.name}}</mat-option>
                    </mat-select>
                    <span *ngIf="segmentError"
                        class="error">Segment is Required
                 </span>
                </mat-form-field>
            </div>
            <div class="col-sm-6">
                <mat-form-field appearance="outline">
                    <mat-label>Select Agent Group</mat-label>
                    <mat-select formControlName="agentgroup" (selectionChange)="changeAutomationCampaign('agentgroup',$event)" required>
                        <mat-option  *ngFor="let agentgroupCampaign of agentgroupCampaigns"  [value]="agentgroupCampaign.GroupID">{{agentgroupCampaign.GroupName}}</mat-option>
                    </mat-select>
                    <span *ngIf="agentgroupError"
                        class="error">Agent Group is Required
                    </span>
                </mat-form-field>
            </div>
            <div class="col-sm-6" *ngIf="voiceCampaignDisplay">
                <mat-form-field appearance="outline">
                    <mat-label>Select Voice Campaign</mat-label>
                    <mat-select formControlName="voice_campaign_id" (selectionChange)="changeAutomationCampaign('voice',$event)">
                        <mat-option value=''>-- None --</mat-option>
                        <mat-option  *ngFor="let voiceCampaign of voiceCampaigns" [value]="voiceCampaign.camid">{{voiceCampaign.cam_name}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="col-sm-6" *ngIf="mailCampaignDisplay">
                <mat-form-field appearance="outline">
                    <mat-label>Select E-mail Campaign</mat-label>
                    <mat-select formControlName="mail_campaign_id" (selectionChange)="changeAutomationCampaign('mail',$event)">
                        <mat-option value=''>-- None --</mat-option>
                        <mat-option  *ngFor="let mailCampaign of mailCampaigns"  [value]="mailCampaign.cid">{{mailCampaign.cam_name}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="col-sm-6" *ngIf="smsCampaignDisplay">
                <mat-form-field appearance="outline">
                    <mat-label>Select SMS Campaign</mat-label>
                    <mat-select formControlName="sms_campaign_id" (selectionChange)="changeAutomationCampaign('sms',$event)">
                        <mat-option value=''>-- None --</mat-option>
                        <mat-option  *ngFor="let smsCampaign of smsCampaigns"  [value]="smsCampaign.cid">{{smsCampaign.cam_name}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            
        </div>
    </div>
    <div class="btn-sec" mat-dialog-actions>
        <button mat-raised-button type="submit" color="primary" (click)="createAdGroup()" class="Update-btn">Submit</button>
    </div>
</form>

<!-- <div  style="position: absolute; left: 50%; top: 50%; -webkit-transform: translate(-50%, -50%); transform: translate(-50%, -50%);">
    <sa-spinner-dotted  [size]="100" [thickness]="171" [speed]="123" color="#2678bd" [enabled]="spin"></sa-spinner-dotted>
</div> -->

<div  *ngIf="spin" class="loader-div">
    <img  src="assets/img/1.gif" class="loader-img">
</div>

