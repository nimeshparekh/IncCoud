
<div class="warap-height pt-4">
    <div class="brand-head">
        <div class="d-flex container-fluid">
            <div class="flex-row-reverse">
                <button mat-flat-button  routerLink="/lead-integration">Back</button>
            </div>
        </div>
    </div>
    <div class="pt-2 container-fluid mb-2">
        <div class="row mb-2">
            <div class="col-12 col-lg-12 m-auto">
                <form class="card-body" [formGroup]="AdGroupForm">
                    <div class="my p-3" data-animation="scaleIn" style="background-color: #fff;">

                        <p  class="field-head mt-2">Select Your Pages</p>
                        <div class="row">
                            <div class="col-sm-4" *ngFor="let lan of page_data; let i = index">
                                <div class="pagecheckbox">
                                    <input type="checkbox" formControlName="page_id" name="rGroup" [value]="i" (change)="onCheckChange($event)" [id]="lan.channel_id"/>
                                    <label class="page-checkbox-alias d-flex" [for]="lan.channel_id">
                                        <div class="table-thumnail position-relative">
                                            <img class="table-thum-channel-img" [src]="lan.channel_thumbnail">
                                            <img class="tablesocial-img" src="assets/images/icon/3.png">
                                        </div>
                                        <div class="tablesocial-pagename ellipsis" title="{{lan.channel_name}}({{lan.page_id}})">{{lan.channel_name}}({{lan.page_id}})</div>
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                        <p class="field-head mt-2">Choose Your Ad-account</p>
                        <div class="row mt-2">
                            <div class="col-sm-6">
                                <mat-form-field appearance="outline">
                                    <mat-label>Choose Your Ad-account</mat-label>
                                    <mat-select (selectionChange)="selectadaccount($event)">
                                        <mat-option  *ngFor="let data of adaccount_data" [value]="data.id">{{data.name}}  ({{data.id}})</mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div> 

                        <div class="button-row d-flex mt-4">
                            <button class="submit mr-2" (click)="sync_campaign()" type="submit" title="submit">Load Campaign</button>
                        </div>
                        

                    </div>
                </form>
            </div>
        </div>
        <div class="card-body" *ngIf="table_show">
            <div class="my">
                <div class="table-responsive">
                    <table mat-table [dataSource]="dataSource">
        
                        <!--- Note that these columns can be defined in any order.
                            The actual rendered columns are set as a property on the row definition" -->
                    
                        <!-- published-on Column -->
                        <ng-container matColumnDef="no">
                            <th mat-header-cell *matHeaderCellDef> Sr No .</th>
                            <td mat-cell *matCellDef="let element;let i = index;">{{i+1}}</td>
                        </ng-container>
        
        
                        <ng-container matColumnDef="ads_name">
                            <th mat-header-cell *matHeaderCellDef> Ads Name </th>
                            <td mat-cell *matCellDef="let element;let i = index"> {{element.ads_name}} </td>
                        </ng-container>
                    
                        
                        <ng-container matColumnDef="campaign_budget">
                            <th mat-header-cell *matHeaderCellDef> AD-id </th>
                            <td mat-cell *matCellDef="let element"> 
                                <span class="tbl-post-text">{{element.ads_id}}</span>
                            </td>
                        </ng-container>
                    
                        <!-- action Column -->
                        <ng-container matColumnDef="action">
                            <th mat-header-cell *matHeaderCellDef> Action </th>
                            <td mat-cell *matCellDef="let element;let i = index"> 
                                <!-- <a class="pencil" (click)="openDialog(i)"><i class="fa fa-pencil" aria-hidden="true"></i></a>&nbsp; -->
                                <span class="material-icons" (click)="openDialog(i)">
                                    login
                                </span>&nbsp;
                                <span class="material-icons" (click)="openDialog(i)" *ngIf="element.is_automation == 'yes'">
                                    done
                                </span>
                                <span class="material-icons" (click)="deleteRequest(element.Ad_id)" >
                                    delete
                                </span>
                            </td>
                        </ng-container>
                    
                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <!-- <div  style="position: absolute; left: 50%; top: 50%; -webkit-transform: translate(-50%, -50%); transform: translate(-50%, -50%);">
        <sa-spinner-dotted  [size]="100" [thickness]="171" [speed]="123" color="#2678bd" [enabled]="spin"></sa-spinner-dotted>
    </div> -->
    

    <div  *ngIf="spin" class="loader-div">
        <img  src="assets/img/1.gif" class="loader-img">
    </div>

</div>








