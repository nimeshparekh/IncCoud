<div class="warap-height pt-4">
    <!-- Begin Page Content -->
    <div class="container-fluid">

        <!-- Page Heading -->
        <h1 class="h3 mb-2 text-gray-800">Requested Report</h1>

        


        <!-- DataTales Example -->
        <div class="card shadow mb-4 mt-3">

            <mat-progress-bar mode="indeterminate" *ngIf="isLoading"></mat-progress-bar>
            <div class="card-body">

                <div fxLayout fxLayoutAlign="center center" class="mt-2">
                    <button mat-raised-button color="primary"
                        (click)="exporter2.exportTable('csv', {fileName:'requested-reports', sheet: 'sheet_name'})">CSV</button>&nbsp;&nbsp;
                      
                </div>

                <!--Table Data-->
                <div class="table-responsive mt-2">

                    <table mat-table matTableExporter #exporter2="matTableExporter" [dataSource]="dataSource"  class="mat-elevation-z8">

                        <!-- Position Column -->
                        <ng-container matColumnDef="id">
                            <th mat-header-cell *matHeaderCellDef> Sr. No. </th>
                            <td mat-cell *matCellDef="let row;let i = index;" data-label="id">
                                {{i+1+(paginator.pageIndex * paginator.pageSize)}}
                            </td>
                        </ng-container>

                        <!-- DID Column -->
                        <ng-container matColumnDef="reportname">
                            <th mat-header-cell *matHeaderCellDef > 	Report Name </th>
                            <td mat-cell *matCellDef="let row">
                                {{row.reportname=='agent_login_logout'?'Agent Adherence Report':''}}
                                {{row.reportname=='agent_wise_call_duration'?'Agent Call Duration Report':''}}
                                {{row.reportname=='campaign_summary'?'Campaign Summary Report':''}}
                            </td>
                        </ng-container>

                        

                        <!-- Start dateTime Column -->
                        <ng-container matColumnDef="startdate">
                            <th mat-header-cell *matHeaderCellDef>Start Date</th>
                            <td mat-cell *matCellDef="let row">
                                {{row.startdate | date: 'dd-MM-yyyy'}}
                            </td>
                        </ng-container>

                        <!-- CallerName Column -->
                        <ng-container matColumnDef="enddate">
                            <th mat-header-cell *matHeaderCellDef> End Date </th>
                            <td mat-cell *matCellDef="let row">
                                {{row.enddate  | date: 'dd-MM-yyyy'}}
                            </td>
                        </ng-container>

                        <!-- CallerNumber Column -->
                        <ng-container matColumnDef="requestdate">
                            <th mat-header-cell *matHeaderCellDef> Request Date </th>
                            <td mat-cell *matCellDef="let row">
                                {{row.requestdate | date: 'dd-MM-yyyy H:mm:s'}}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="action">
                            <th mat-header-cell *matHeaderCellDef> Action </th>
                            <td mat-cell *matCellDef="let row">
                                <a  href="{{baseUrl}}{{apiUrl}}/reports/{{row.downliad_link}}"  download><button  title="download"
                                    mat-icon-button style="color: darkcyan;"
                                    aria-label="Example icon button with a menu icon">
                                    <i class="fa fa-download"></i>
                                </button></a>

                                <!-- <button  title="download"
                                    mat-icon-button style="color: darkcyan;"
                                    aria-label="Example icon button with a menu icon">
                                    <mat-icon>download</mat-icon>
                                </button> -->
                            </td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                    </table>

                </div>

                <mat-paginator #paginator [length]="Length" [pageSize]="50" [pageSizeOptions]="[50,100,500]"
                    showFirstLastButtons="true">
                </mat-paginator>

            </div>

        </div>

    </div>
    <!-- /.container-fluid -->
</div>