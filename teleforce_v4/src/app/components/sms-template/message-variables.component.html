<div>
    <div mat-dialog-head class="dilog-head d-flex justify-content-between">
        <h3 class="primary">Replace Variables</h3>
        <div class="d-inline-block">
            <a class="close" (click)="openDialog()"><i class="fi-rr-cross-small"></i></a>
        </div>
    </div>
    <div>
        <form [formGroup]="addForm" (ngSubmit)="submit()">
            <div mat-dialog-content>
                <div class="row">
                    <div class="col-xl-12 col-md-12 col-sm-12 col-12 mt-2">
                        <mat-form-field appearance="outline">
                            <mat-label>Sms text</mat-label>
                            <textarea matInput placeholder="Sms Text" formControlName="sms_text" rows="6" cols="100"
                                matTextareaAutosize readonly></textarea>
                        </mat-form-field>
                        <strong style="color: red;"><span id="chars" name="chars" style="color:#336600; ">{{msgcharcnt}}
                                {{chartxt}}</span></strong>
                        <br>
                    </div>
                </div>
                <div class="row" *ngIf="!variablemode">
                    <h4 style="color:red">This SMS Template does not have any replace variables.</h4>
                </div>
                <div class="row" *ngIf="variablemode">
                    <div *ngIf="var1" class="col-md-6">
                        <mat-form-field class="w-100" appearance="outline">
                            <mat-label> var1 </mat-label>
                            <mat-select formControlName="var1" (ngModelChange)="changevar1($event)">
                                <mat-option value="">None</mat-option>
                                <mat-option value="agentname">Agent Name</mat-option>
                                <mat-option value="agentmobile">Agent Mobile</mat-option>
                                <mat-option value="agentemail">Agent Email</mat-option>
                                <mat-option value="form">Form</mat-option>
                                <mat-option value="link">Link</mat-option>
                                <mat-option value="custom">Custom</mat-option>
                            </mat-select>
                            <!-- <mat-icon matSuffix>sentiment_very_satisfied</mat-icon> -->
                        </mat-form-field>
                        <mat-form-field class="w-100" appearance="outline" *ngIf="customvar1">
                            <mat-label>Custom var1 </mat-label>
                            <input matInput placeholder="Custom var1 Value" formControlName="customvar1">
                            <!-- <mat-icon matSuffix>sentiment_very_satisfied</mat-icon> -->
                        </mat-form-field>
                    </div>
                    <div *ngIf="var2" class="col-md-6">
                        <mat-form-field class="w-100" appearance="outline">
                            <mat-label> var2 </mat-label>
                            <mat-select formControlName="var2" (ngModelChange)="changevar2($event)">
                                <mat-option value="">None</mat-option>
                                <mat-option value="agentname">Agent Name</mat-option>
                                <mat-option value="agentmobile">Agent Mobile</mat-option>
                                <mat-option value="agentemail">Agent Email</mat-option>
                                <mat-option value="form">Form</mat-option>
                                <mat-option value="link">Link</mat-option>
                                <mat-option value="custom">Custom</mat-option>
                            </mat-select>
                            <!-- <mat-icon matSuffix>sentiment_very_satisfied</mat-icon> -->
                        </mat-form-field>
                        <mat-form-field class="w-100" appearance="outline" *ngIf="customvar2">
                            <mat-label>Custom var2 </mat-label>
                            <input matInput placeholder="Custom var2 Value" formControlName="customvar2">
                            <!-- <mat-icon matSuffix>sentiment_very_satisfied</mat-icon> -->
                        </mat-form-field>
                    </div>
                </div>
                <div class="row" *ngIf="variablemode">
                    <div *ngIf="var3" class="col-md-6">
                        <mat-form-field class="w-100" appearance="outline">
                            <mat-label> var3 </mat-label>
                            <mat-select formControlName="var3" (ngModelChange)="changevar3($event)">
                                <mat-option value="">None</mat-option>
                                <mat-option value="agentname">Agent Name</mat-option>
                                <mat-option value="agentmobile">Agent Mobile</mat-option>
                                <mat-option value="agentemail">Agent Email</mat-option>
                                <mat-option value="form">Form</mat-option>
                                <mat-option value="link">Link</mat-option>
                                <mat-option value="custom">Custom</mat-option>
                            </mat-select>
                            <!-- <mat-icon matSuffix>sentiment_very_satisfied</mat-icon> -->
                        </mat-form-field>
                        <mat-form-field class="w-100" appearance="outline" *ngIf="customvar3">
                            <mat-label>Custom var3 </mat-label>
                            <input matInput placeholder="Custom var3 Value" formControlName="customvar3">
                            <!-- <mat-icon matSuffix>sentiment_very_satisfied</mat-icon> -->
                        </mat-form-field>
                    </div>
                    <div *ngIf="var4" class="col-md-6">
                        <mat-form-field class="w-100" appearance="outline">
                            <mat-label> var4 </mat-label>
                            <mat-select formControlName="var4" (ngModelChange)="changevar4($event)">
                                <mat-option value="">None</mat-option>
                                <mat-option value="agentname">Agent Name</mat-option>
                                <mat-option value="agentmobile">Agent Mobile</mat-option>
                                <mat-option value="agentemail">Agent Email</mat-option>
                                <mat-option value="form">Form</mat-option>
                                <mat-option value="link">Link</mat-option>
                                <mat-option value="custom">Custom</mat-option>
                            </mat-select>
                            <!-- <mat-icon matSuffix>sentiment_very_satisfied</mat-icon> -->
                        </mat-form-field>
                        <mat-form-field class="w-100" appearance="outline" *ngIf="customvar4">
                            <mat-label>Custom var4 </mat-label>
                            <input matInput placeholder="Custom var4 Value" formControlName="customvar4">
                            <!-- <mat-icon matSuffix>sentiment_very_satisfied</mat-icon> -->
                        </mat-form-field>
                    </div>
                </div>
                <div class="row" *ngIf="variablemode">
                    <div *ngIf="var5" class="col-md-6">
                        <mat-form-field class="w-100" appearance="outline">
                            <mat-label> var5 </mat-label>
                            <mat-select formControlName="var5" (ngModelChange)="changevar5($event)">
                                <mat-option value="">None</mat-option>
                                <mat-option value="agentname">Agent Name</mat-option>
                                <mat-option value="agentmobile">Agent Mobile</mat-option>
                                <mat-option value="agentemail">Agent Email</mat-option>
                                <mat-option value="form">Form</mat-option>
                                <mat-option value="link">Link</mat-option>
                                <mat-option value="custom">Custom</mat-option>
                            </mat-select>
                            <!-- <mat-icon matSuffix>sentiment_very_satisfied</mat-icon> -->
                        </mat-form-field>
                        <mat-form-field class="w-100" appearance="outline" *ngIf="customvar5">
                            <mat-label>Custom var5 </mat-label>
                            <input matInput placeholder="Custom var5 Value" formControlName="customvar5">
                            <!-- <mat-icon matSuffix>sentiment_very_satisfied</mat-icon> -->
                        </mat-form-field>
                    </div>

                </div>
                <div class="row" *ngIf="variablemode">
                    <div  class="col-md-6" >
                        <mat-form-field appearance="outline" class="w-100">
                            <mat-label class="mat-label">Select Form</mat-label>
                            <mat-select formControlName="formdata">
                                <mat-option value="">None</mat-option>
                                <mat-option *ngFor="let sms of formsdata" [value]="sms.fid">{{sms.form_name}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div  class="col-md-6" >
                        <mat-form-field appearance="outline" class="w-100">
                            <mat-label class="mat-label">Select Link</mat-label>
                            <mat-select formControlName="link" (ngModelChange)="searchlink($event)">
                              <mat-option value="">None</mat-option>
                              <mat-option *ngFor="let sms of smslinks" [value]="sms.sl_id">{{sms.sl_name}}</mat-option>
                            </mat-select>
                          </mat-form-field>
                    </div>
                </div>
                <div class="btn-sec" mat-dialog-action *ngIf="variablemode">
                    <button mat-raised-button type="submit" color="primary" class="Update-btn">Save</button>
                </div>
            </div>
        </form>
    </div>
</div>